title: DEDECMS做手机网站
categories: 技术栈
tags: [dedecms,wap]
date: 2015-07-07 02:34:18
---
目前手机网站很少的原因是没有好的程序来建，而传统网站好的程序却很多。我们可以采用拿来主义，一样可以轻松的制作手机网站。dedecms就是目前不错的一个系统。而且我们可以用火车头等外部采集器来采集大量的内容。所以我来说一下如合用dedecms来做手机网站。
　　传统网站和手机网站的区别有两个：
　　1：网页协议，就是我们常说的wap（无线应用协议）。目前wap已经发展到了2.0，也就是xhtml mobile，也就是我们能够用普通浏览器就能看的手机网站。而用普通浏览器不能看的手机网站一般都是wap1.0.WML,貌似现在已经过时，所以现在做一个比较时髦的wap2.0的网站。
　　2：网页大小，要做到需要手机屏幕能够阅读的地步，具体多大看你的喜好了，我喜欢180像素宽的页面，长度不限。
　　下面我说一下制作步骤：
　　鉴别一个页面是不是wap网页在于每个页面源代码最上面的协议声明。一般dede的模板采用的是传统网站的协议，如html 4.01 , xhtml 1.0.我们要做的是把模板的协议手工的给改一下，全部改成xhtml mobile 1.0: <!DOCTYPE html PUBLIC "-//WAPFORUM//DTD XHTML Mobile 1.0//EN" "http://www.wapforum.org/DTD/xhtml-mobile10.dtd">
　　<html xmlns="http://www.w3.org/1999/xhtml">
　　这样你的网页就变成了手机wap2.0了，搜索引擎的爬虫进来后也认为你这个是一个手机网站了。
　　（如果你想独立建一个新的手机页面，用dreamwaver的新建空白页-页面类型html或php-文档类型xhtml mobile 1.0 就行了。）


<!--more-->


　　一般dede的文章模块需要4个模板：主页-频道-列表-文章。你得把这4个的源码里面的协议都给改了。
　　剩下的就是改页面大小，改好后，把原模板里面的多余的命令去掉，剩下的就是这几个有用的命令：
　　文章模板：导航地址{dede:field name='position'/}，文章标题{dede:field name="title"/} ，文章内容{dede:field name='body'/}， 上下页链接{dede:prenext get='pre'/}
　　{dede:prenext get='next'/} 。
　　列表模板：列表[field:title/]{/dede:list}
　　频道模板：频道[field:typename /]{/dede:type}{/dede:channelArtlist}
　　把这几个代码放在你新的小页面上的需要的位置。页面别的地方可以自主设计，放广告代码什么的。这样你的模板就做好了。
　　放广告代码：你的页面不能是html的后缀，因为目前广告的解析不能在手机端完成，这样就需要我们把dede生成的html改成php。分2步：1，在页面设置里面改，在高级选项的命名规则里把后缀从html手工改成php。2，需要你把每个模板源码里面的第一行加上这么一段话：
　　<?php echo '<?xml version="1.0" encoding="UTF-8"?>' ?> ，UTF-8可以改成你需要的编码。这样你的页面生成后就是一个纯的PHP页面。就可以放广告代码了。
　　剩下的就是你采集资源放进数据库了，然后通过批量生成，就可以做出一个有大量文章内容的手机网站了。
　　检验：如何知道自己的手机网站是正确的格式，用W3C的程序检验一下就知道了。
　　http://validator.w3.org/ 输入网址测试后，如果是红字，底下会注明你页面里面哪些有错误。如果是绿字，恭喜你，你的页面就是纯粹的合格的XHTML网站。

title: SEO—百度主动推送文章url以及sitemap提交
categories: 技术栈
tags: [seo,百度文章收录,typecho插件]
date: 2015-07-31 12:49:00
---
这几天看了些关于[SEO][1]方面的知识，多少也是了解了些。貌似有点晚了，现在百度推出了新的链接提交方式：[主动推送][2]，又一文章收录神器来了。

> 主动推送：最为快速的提交方式，推荐您将站点当天新产出链接立即通过此方式推送给百度，以保证新链接可以及时被百度收录。

**使用主动推送功能会达到怎样效果**

> 及时发现：可以缩短百度爬虫发现您站点新链接的时间，使新发布的页面可以在第一时间被百度收录
> 保护原创：对于网站的最新原创内容，使用主动推送功能可以快速通知到百度，使内容可以在转发之前被百度发现


**如何使用主动推送功能**

需要网站制作数据推送接口，进入主动推送工具后，会看到接口调用地址的token，token是由16个英文数字组合的字符串
![主动推送接口图][3]


<!--more-->


当然具体的实现方式，可以参阅百度官网的说明：[百度主动推送][4]


效果和优势是很明显的了，但是有几个需要特别注意的地方（当然这些注意点做SEO的朋友是很容易想到的）：
1.**不要重复提交url**。第一，将浪费您提交的配额，每个站点每天可提交的数量是有限制的，如果您都提交了旧链接，当有新链接时可能因为配额耗尽无法提交。第二，如果您经常重复提交旧链接，我们会下调您的配额，您可能会失去主动推送功能的权限。
2.**注意提交url的数量和质量**。主动推送可提交的链接数量上限是根据您提交的新产生有价值链接数量而决定的，百度会根据您提交数量的情况不定期对上限额进行调整，提交的新产生有价值链接数量越多，可提交链接的上限越高。初始数量500条url。
3.**注意推送时机**。页面链接产生或发布时立即提交，这样效果是最好的。

关于百度主动推送的FAQ可以参阅百度官方FAQ。

此外，之前一直用来收录的神器sitemap呢？
百度主动推送和原来的sitemap提交接口有什么区别呢？官方说法：状态反馈更及时了，原来提交后需要登录到站长平台查看提交是否成功。目前只要根据提交后返回的数据就可以判断了。

关于旧神器sitemap的生成和提交也就不再赘述了。主要来研究下这个新神器主动推送。
百度虽然给了接口和实现方案，但是暂时还没有做一个插件什么的。
开始我简单调了下接口，尝试推送了几个url，结果真的奏效了，见效很快，下午推送的，晚上百度就收录了。调用接口的方式也很简单，百度也给出了好多案例。
下面以php为例吧：
简单说就新建个php文件，编辑文件内容如下：

    $urls = array(
        'http://www.example.com/1.html',
        'http://www.example.com/2.html',
    );
    $api = '你的接口调用地址';//这个在百度站长平台工具里可获得的
    $ch = curl_init();
    $options =  array(
        CURLOPT_URL => $api,
        CURLOPT_POST => true,
        CURLOPT_RETURNTRANSFER => true,
        CURLOPT_POSTFIELDS => implode("\n", $urls),
        CURLOPT_HTTPHEADER => array('Content-Type: text/plain'),
    );
    curl_setopt_array($ch, $options);
    $result = curl_exec($ch);
    echo $result;

然后将此文件上传到网站服务器根目录或者其他路径啦，然后浏览器里访问下该文件即可。

然后我就想弄个小工具了，然后就开始动手撸代码了。虽然php不是很熟悉，但是写个小工具还是可以的，然后就弄了个小网页工具，工具抓取博客所有的文章链接，然后搞了个多选，可以选择需要推送的url，然后点个推送按钮。尝试写了下，也没多久就写好了，试了下一次成功。但是想想感觉这个工具还是不够“工具”啊，只不过多了个抓取选择博客url的过程，还是不够“程序”。

之后，我就想起了typecho的插件开发。然后又以菜鸟的姿态去看了看插件开发的文档。php就是纯菜鸟，但是看了看开发文档，感觉还是可以尝试一把的。然后就开撸了，后来写着写着发现，有很多地方需要去考虑，当然这几个地方就是我上面说的注意事项了，思来想去，最好还得搞张表记录一下。
有了大概的idea后，我就开始偷懒了。然后在搜索引擎里去看看有没有大神已经搞过类似的插件了，在寻寻觅觅许久后，终于发现一大神已经搞了这个插件了。当然要是我之前多玩玩wordpress也许早就会知道这些了。

后面我简单看看这个插件的源码，发现思路跟我想得差不多。然后我就不大想写了，人比较懒，哈哈。然后把插件源码修改了一些地方，然后就装上来用勒，效果还是很赞的，哈哈！

这里就不赘述了，具体参阅此插件github：[Baidu submit插件][5]


----------


[SEO][6]基友博客链接：[七月博客][7]


  [1]: http://www.ghostsf.com/category/seo/
  [2]: http://zhanzhang.baidu.com/college/courseinfo?id=267&page=2#h2_article_title9
  [3]: http://bs.baidu.com/zhanzhang/files/084921430896567.jpg
  [4]: http://zhanzhang.baidu.com/college/courseinfo?id=267&page=2#h2_article_title9
  [5]: https://github.com/phpgao/BaiduSubmit/releases
  [6]: http://www.ghostsf.com/category/seo/
  [7]: http://www.higher-hope.com
